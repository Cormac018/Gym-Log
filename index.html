<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gym Log</title>
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="stylesheet" href="style.css" />
  </head>
  <script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("sw.js");
  }
</script>
  <body>
<h1 class="app-title">Gym Log</h1>

<div class="tabs">
  <button class="tab active" data-tab="train">Train</button>
  <button class="tab" data-tab="progress">Progress</button>
  <button id="themeToggle" type="button" class="tab tab--icon" aria-label="Toggle theme">Theme</button>
</div>
<div id="trainTab" class="tab-content active">
<h2 id="currentSession"></h2>
<div class="btn-row">
  <button id="completeSessionBtn" type="button">Complete Session</button>
  <button id="logRestDayBtn" type="button">Log Rest Day</button>
</div>

<div id="restNotice" style="margin:10px 0;"></div>
<div id="upperCContainer" style="display:none;">
  <p><strong>Optional session available:</strong> Upper C â€” Delts & Arms Pump</p>
  <button id="startUpperCBtn" type="button">Start Upper C</button>
  <button id="skipUpperCBtn" type="button">Skip Upper C</button>
</div>
<h3 id="workoutPlanTitle">Workout Plan</h3>
<div id="workoutPlan"></div>

<!-- NEW: dock where the log form lives when no card is selected -->
<div id="logFormDock"></div>

<form id="logForm">

      <!-- Pattern -->
      <label>
        Pattern
        <select id="pattern">
          <option value="incline_press">Incline Press</option>
          <option value="horizontal_pull">Horizontal Pull</option>
          <option value="vertical_pull">Vertical Pull</option>
          <option value="lateral_raise">Lateral Raise</option>
          <option value="rear_delt">Rear Delt / Face Pull</option>
          <option value="vertical_press">Vertical Press</option>
          <option value="triceps">Triceps</option>
          <option value="biceps">Biceps</option>
          <option value="knee_dominant">Knee-Dominant (Quads)</option>
          <option value="single_leg_quad">Single-Leg Quads</option>
          <option value="hip_hinge">Hip Hinge</option>
          <option value="glute_unilateral">Glute-Biased Unilateral</option>
          <option value="hamstring_accessory">Hamstring Accessory</option>
          <option value="calves">Calves</option>
          <option value="core">Core (Abs)</option>
        </select>
      </label>

      <!-- Variant -->
      <label>
        Variant (select or type)
        <select id="variantSelect"></select>
      </label>

      <label id="variantCustomLabel" style="display:none;">
        Custom variant
        <input
          type="text"
          id="variantCustom"
          placeholder="Type your variant name"
        />
      </label>

      <!-- Weight -->
      <label>
        Weight (kg)
        <input type="number" id="weight" required />
      </label>

      <!-- Reps -->
      <label>
        Reps
        <input type="number" id="reps" required />
      </label>

      <button type="submit">Save Set</button>
    </form>

    <h2 id="historyTitle">History (All Patterns)</h2>
    <div id="summary"></div>

    <ul id="history"></ul>

<div class="btn-row">
  <button id="backBtn" type="button" style="display:none;">Back</button>
  <button id="exportDataBtn" type="button">Export data</button>

  <label class="btn-file">
    Import data
    <input id="importDataInput" type="file" accept="application/json" />
  </label>

  <button id="clearAll" type="button">Clear all data</button>
</div>
</div>

<div id="progressTab" class="tab-content">
  <h2>Progress</h2>

  <label>
    Exercise slot
    <select id="progressExerciseSelect"></select>
  </label>

  <label>
    Variant filter
    <select id="progressVariantSelect" disabled>
      <option value="">All variants</option>
    </select>
  </label>

  <div id="progressSummary"></div>

  <h3>Trend</h3>
  <div id="progressChartWrap" class="panel" style="padding:14px;">
    <canvas id="progressChart" width="700" height="260" style="width:100%; height:260px; display:block;"></canvas>
    <div id="progressChartHint" style="margin-top:10px; color:var(--muted); font-size:13px;"></div>
  </div>

  <h3>Best set per workout</h3>
  <div id="progressTable"></div>
</div>

    <script src="workouts.js"></script>
    <script src="app.js"></script>
  </body>
</html>

